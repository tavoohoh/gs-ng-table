<!-- https://material.angular.io/components/table/overview -->

<ng-container>
  <!-- GTableStyle: TABLE -->
  <div class="gs-table" *ngIf="tableStyle === tableStyleType.TABLE">
    <!-- header -->
    <div class="gs-table-header" [style.padding-right.px]="tableContentPadding" #tableHeaderElement>
      <ng-container *ngFor="let title of tableHeader">
        <span class="gs-table-header-row">{{ title | translate }}</span>
      </ng-container>
      <ng-container *ngIf="tableRowActions && !tableRowActions.hiden">
        <span class="gs-table-header-row">{{ tableRowActions.text | translate }}</span>
      </ng-container>
    </div>
    
    <!-- content -->
    <ng-container #tableContentElement *ngIf="tableContent && tableContentKeys">
      <div class="gs-table-row" *ngFor="let row of tableContent">
        <ng-container *ngFor="let key of tableContentKeys">
          <span class="gs-table-row_text">{{ row[key] | translate }}</span>
        </ng-container>
        <ng-container *ngIf="tableRowActions && !tableRowActions.hiden">
          <gs-table-row-actions
            [rowAction]="tableRowActions"
            [rowData]="row"
            (rowActionEvent)="hdlRowAction($event)">
          </gs-table-row-actions>
        </ng-container>
      </div>

      <ng-container *ngIf="noTableData">
        <div class="gs-table-row no-data"> 
          {{ noContentText | translate }} 
        </div>
      </ng-container>
    </ng-container>

    <!-- footer -->
    <ng-container *ngTemplateOutlet="footer"></ng-container>
  </div>

  <!-- GTableStyle: SINGLE -->
  <div class="gs-table-single" *ngIf="tableStyle === tableStyleType.SINGLE">
    <!-- content -->
    <div class="gs-table-content" *ngIf="tableContent && tableContentKeys">
      <div class="gs-table-row" *ngFor="let row of tableContent">
        <ng-container *ngFor="let key of tableContentKeys">
          <span class="gs-table-row_text">{{ row[key] }}</span>
        </ng-container>
        <ng-container *ngIf="tableRowActions && !tableRowActions.hiden">
          <gs-table-row-actions
            [rowAction]="tableRowActions"
            [rowData]="row"
            (rowActionEvent)="hdlRowAction($event)">
          </gs-table-row-actions>
        </ng-container>
      </div>
    </div>

    <!-- footer -->
    <ng-container *ngTemplateOutlet="footer"></ng-container>
  </div>
</ng-container>

<ng-template #footer>
  <div class="gs-table-footer" *ngIf="currentPage && totalOfPages">

      <!-- element count -->
      <span class="gs-table-navigation_count">
        {{ currentPage }} - {{ totalOfPages }}
      </span>

      <!-- navigation controlls -->

      <!-- navigate to first page -->
      <button
        type="button"
        class="gs-table-navigation-btn rotate180"
        [class.disabled]="currentPage === 1"
        (click)="onNavigateTo(1)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 3.795l2.995-2.98 11.132 11.185-11.132 11.186-2.995-2.981 8.167-8.205-8.167-8.205zm18.04 8.205l-8.167 8.205 2.995 2.98 11.132-11.185-11.132-11.186-2.995 2.98 8.167 8.206z"/>
        </svg>
      </button>

      <!-- navigate to next page -->
      <button
        type="button"
        class="gs-table-navigation-btn"
        [class.disabled]="!canNavigatePrevious"
        (click)="onNavigate(false)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/>
        </svg>
      </button>

      <!-- navigate to previous page -->
      <button
        type="button"
        class="gs-table-navigation-btn"
        [class.disabled]="!canNavigateNext"
        (click)="onNavigate(true)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"/>
        </svg>
      </button>

      <!-- navigate to last page -->
      <button
        type="button"
        class="gs-table-navigation-btn"
        [class.disabled]="currentPage === totalOfPages"
        (click)="onNavigateTo(totalOfPages)">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 3.795l2.995-2.98 11.132 11.185-11.132 11.186-2.995-2.981 8.167-8.205-8.167-8.205zm18.04 8.205l-8.167 8.205 2.995 2.98 11.132-11.185-11.132-11.186-2.995 2.98 8.167 8.206z"/>
        </svg>
      </button>

  </div>
</ng-template>
