<!-- https://material.angular.io/components/table/overview -->

<ng-container *ngIf="!noTableData">
  <!-- GTableStyle: TABLE -->
  <div class="gs-table" *ngIf="tableStyle === tableStyleType.TABLE">
    <!-- header -->
    <div class="gs-table-header" [style.padding-right.px]="tableContentPadding" #tableHeaderElement>
      <ng-container *ngFor="let title of tableHeader">
        <span class="gs-table-header-row">{{ title | translate }}</span>
      </ng-container>
      <ng-container *ngIf="tableRowActions && !tableRowActions.hiden">
        <span class="gs-table-header-row">{{ tableRowActions.text | translate }}</span>
      </ng-container>
    </div>
    
    <!-- content -->
    <ng-container #tableContentElement *ngIf="tableContent && tableContentKeys">
      <div class="gs-table-row" *ngFor="let row of tableContent">
        <ng-container *ngFor="let key of tableContentKeys">
          <span class="gs-table-row_text">{{ row[key] | translate }}</span>
        </ng-container>
        <ng-container *ngIf="tableRowActions && !tableRowActions.hiden">
          <gs-table-row-actions
            [rowAction]="tableRowActions"
            [rowData]="row"
            (rowActionEvent)="hdlRowAction($event)">
          </gs-table-row-actions>
        </ng-container>
      </div>
    </ng-container>

    <!-- footer -->
    <ng-container *ngTemplateOutlet="footer"></ng-container>
  </div>

  <!-- GTableStyle: SINGLE -->
  <div class="gs-table-single" *ngIf="tableStyle === tableStyleType.SINGLE">
    <!-- content -->
    <div class="gs-table-content" *ngIf="tableContent && tableContentKeys">
      <div class="gs-table-row" *ngFor="let row of tableContent">
        <ng-container *ngFor="let key of tableContentKeys">
          <span class="gs-table-row_text">{{ row[key] }}</span>
        </ng-container>
        <ng-container *ngIf="tableRowActions && !tableRowActions.hiden">
          <gs-table-row-actions
            [rowAction]="tableRowActions"
            [rowData]="row"
            (rowActionEvent)="hdlRowAction($event)">
          </gs-table-row-actions>
        </ng-container>
      </div>
    </div>

    <!-- footer -->
    <ng-container *ngTemplateOutlet="footer"></ng-container>
  </div>
</ng-container>

<ng-template #footer>
  <div class="gs-table-footer" *ngIf="currentPage && totalOfPages">

      <!-- element count -->
      <span class="gs-table-navigation_count">
        {{ currentPage }} - {{ totalOfPages }}
      </span>

      <!-- navigation controlls -->
      <button
        type="button"
        class="gs-table-navigation-left"
        [class.disabled]="!canNavigatePrevious"
        (click)="onNavigate(true)"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/>
        </svg>
      </button>

      <button
        type="button"
        class="gs-table-navigation-right"
        [class.disabled]="!canNavigateNext"
        (click)="onNavigate(false)"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"/>
        </svg>
      </button>

  </div>
</ng-template>