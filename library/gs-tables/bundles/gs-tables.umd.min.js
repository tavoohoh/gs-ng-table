!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/common"),require("@ngx-translate/core"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("gs-tables",["exports","@angular/core","@angular/platform-browser","@angular/common","@ngx-translate/core","@angular/common/http"],e):e((t=t||self)["gs-tables"]={},t.ng.core,t.ng.platformBrowser,t.ng.common,t.core$1,t.ng.common.http)}(this,(function(t,e,o,n,r,a){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i}var s,l=function(){function t(){}return t.prototype.objectKeysToArray=function(t){var e=[];for(var o in t[0])Object.prototype.hasOwnProperty.call(t[0],o)&&t[0][o]&&e.push(o);return e},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=i([e.Injectable({providedIn:"root"})],t)}();(s=t.GTableStyle||(t.GTableStyle={})).TABLE="TABLE",s.SINGLE="SINGLE";var c=function(){function n(o,n,r){this.sanitizer=o,this.tableService=n,this.rowActionEvent=new e.EventEmitter,this.navigateNext=new e.EventEmitter,this.navigatePrevious=new e.EventEmitter,this.tableStyleType=t.GTableStyle,this.customStyles=r}var r,a;return n.prototype.ngOnChanges=function(t){var e=this;if(t){if(t.tableData&&t.tableData.currentValue&&(this.tableData=t.tableData.currentValue,this.tableData.data?(this.noTableData=!1,this.tableDataAdapter()):(this.noTableData=!0,this.onInputDataError())),t.currentPage||this.currentPage?this.currentPage=t.currentPage?t.currentPage.currentValue:this.currentPage:this.currentPage=null,t.totalOfPages||this.totalOfPages?this.totalOfPages=t.totalOfPages?t.totalOfPages.currentValue:this.totalOfPages:this.totalOfPages=null,this.currentPage&&this.totalOfPages)this.setTableFooter();else if(this.currentPage||this.totalOfPages)return console.warn("GS Table building warning:\n\nIf you wish to display current and total of pages please add to your table options `currentPage` and `totalOfPages`");setTimeout((function(){e.setContentWidth()}))}},n.prototype.setTableFooter=function(){this.currentPage<=1?this.canNavigatePrevious=!1:this.canNavigatePrevious=!0,this.currentPage+1>this.totalOfPages?this.canNavigateNext=!1:this.canNavigateNext=!0},n.prototype.tableDataAdapter=function(){this.tableStyle=this.tableData.options.style||t.GTableStyle.TABLE,this.tableContent=this.tableData.data,this.tableRowActions=this.tableData.options.rowActions||null,this.tableContentKeys=this.tableData.keyNames?this.tableData.keyNames:this.tableService.objectKeysToArray(this.tableContent),this.tableStyle===t.GTableStyle.SINGLE?this.tableContentKeys=[this.tableContentKeys[0],this.tableContentKeys[1]]:this.tableHeader=this.tableData.header||this.tableContentKeys},Object.defineProperty(n.prototype,"valueAsStyle",{get:function(){var e="";return!this.noTableData&&this.tableStyle===t.GTableStyle.TABLE&&this.tableHeader.length&&(e=this.tableRowActions&&this.tableRowActions.display?e+"--gs-repeat: repeat("+(this.tableHeader.length+1)+", 1fr)!important;":e+"--gs-repeat: repeat("+this.tableHeader.length+", 1fr)!important;"),this.customStyles&&(this.customStyles.color&&(e=e+"--gs-font-color: "+this.customStyles.color+"!important;"),this.customStyles.ui.fontSize&&(e=e+"--gs-font-size: "+this.customStyles.ui.fontSize+"!important;"),this.customStyles.color.primary&&(e=e+"--gs-primary-color: "+this.customStyles.color.primary+"!important;"),this.customStyles.color.secondary&&(e=e+"--gs-secondary-color: "+this.customStyles.color.secondary+"!important;"),this.customStyles.color.neutral&&(e=e+"--gs-neutral-color: "+this.customStyles.color.neutral+"!important;"),this.customStyles.color.border&&(e=e+"--gs-border-color: "+this.customStyles.color.border+"!important;"),this.customStyles.color.white&&(e=e+"--gs-white-color: "+this.customStyles.color.white+"!important;"),this.customStyles.ui.padding&&(e=e+"--gs-padding: "+this.customStyles.ui.padding+"!important;"),this.customStyles.ui.primaryButton&&(this.customStyles.ui.primaryButton.padding&&(e=e+"--gs-button-padding: "+this.customStyles.ui.primaryButton.padding+"!important;"),this.customStyles.ui.primaryButton.color&&(e=e+"--gs-button-color: "+this.customStyles.ui.primaryButton.color+"!important;"),this.customStyles.ui.primaryButton.background&&(e=e+"--gs-button-background: "+this.customStyles.ui.primaryButton.background+"!important;"),this.customStyles.ui.primaryButton.borderSize&&(e=e+"--gs-button-border-size: "+this.customStyles.ui.primaryButton.borderSize+"!important;"),this.customStyles.ui.primaryButton.borderStyle&&(e=e+"--gs-button-border-style: "+this.customStyles.ui.primaryButton.borderStyle+"!important;"),this.customStyles.ui.primaryButton.borderColor&&(e=e+"--gs-button-border-color: "+this.customStyles.ui.primaryButton.borderColor+"!important;"),this.customStyles.ui.primaryButton.borderRadius&&(e=e+"--gs-button-border-radius: "+this.customStyles.ui.primaryButton.borderRadius+"!important;"),this.customStyles.ui.primaryButton.borderTop&&(e=e+"--gs-button-border-top: "+this.customStyles.ui.primaryButton.borderTop+"!important;"),this.customStyles.ui.primaryButton.borderRight&&(e=e+"--gs-button-border-right: "+this.customStyles.ui.primaryButton.borderRight+"!important;"),this.customStyles.ui.primaryButton.borderBottom&&(e=e+"--gs-button-border-bottom: "+this.customStyles.ui.primaryButton.borderBottom+"!important;"),this.customStyles.ui.primaryButton.borderLeft&&(e=e+"--gs-button-border-left: "+this.customStyles.ui.primaryButton.borderLeft+"!important;"))),this.sanitizer.bypassSecurityTrustStyle(e)},enumerable:!0,configurable:!0}),n.prototype.onResize=function(t){this.setContentWidth()},n.prototype.setContentWidth=function(){this.noTableData||this.tableStyle!==t.GTableStyle.TABLE||(this.tableContentPadding=this.tableHeaderElement.nativeElement.offsetWidth-this.tableContentElement.nativeElement.offsetWidth)},n.prototype.hdlRowAction=function(t){this.rowActionEvent.emit(t)},n.prototype.onNavigate=function(t){t?this.navigateNext.emit():this.navigatePrevious.emit()},n.prototype.onInputDataError=function(){return console.error('GS Table building err: Please provide tableData:\n\n1. In your template make sure you have:\n\n <gs-table [tableData]="tableData"></gs-table>\n\n2. In your component declare `tableData`:\n\n public tableData = {\n   data: Array<object>;\n   header?: Array<string>;\n   options?: {\n     style?: GTableStyle;\n     rowActions?: GTableRowAction;\n   }\n }')},n.ctorParameters=function(){return[{type:o.DomSanitizer},{type:l},{type:void 0,decorators:[{type:e.Inject,args:["customStyles"]}]}]},i([e.Input()],n.prototype,"tableData",void 0),i([e.Input()],n.prototype,"currentPage",void 0),i([e.Input()],n.prototype,"totalOfPages",void 0),i([e.Output()],n.prototype,"rowActionEvent",void 0),i([e.Output()],n.prototype,"navigateNext",void 0),i([e.Output()],n.prototype,"navigatePrevious",void 0),i([e.ViewChild("tableContentElement",{static:!1})],n.prototype,"tableContentElement",void 0),i([e.ViewChild("tableHeaderElement",{static:!1})],n.prototype,"tableHeaderElement",void 0),i([e.HostBinding("attr.style")],n.prototype,"valueAsStyle",null),i([e.HostListener("window:resize",["$event"])],n.prototype,"onResize",null),n=i([e.Component({selector:"gs-table",template:'\x3c!-- https://material.angular.io/components/table/overview --\x3e\r\n\r\n<ng-container *ngIf="!noTableData">\r\n  \x3c!-- GTableStyle: TABLE --\x3e\r\n  <div class="gs-table" *ngIf="tableStyle === tableStyleType.TABLE">\r\n    \x3c!-- header --\x3e\r\n    <div class="gs-table-header" [style.padding-right.px]="tableContentPadding" #tableHeaderElement>\r\n      <ng-container *ngFor="let title of tableHeader">\r\n        <span class="gs-table-header-row">{{ title | translate }}</span>\r\n      </ng-container>\r\n      <ng-container *ngIf="tableRowActions && tableRowActions.display">\r\n        <span class="gs-table-header-row">{{ tableRowActions.text }}</span>\r\n      </ng-container>\r\n    </div>\r\n    \r\n    \x3c!-- content --\x3e\r\n    <ng-container #tableContentElement *ngIf="tableContent && tableContentKeys">\r\n      <div class="gs-table-row" *ngFor="let row of tableContent">\r\n        <ng-container *ngFor="let key of tableContentKeys">\r\n          <span class="gs-table-row_text">{{ row[key] | translate }}</span>\r\n        </ng-container>\r\n        <ng-container *ngIf="tableRowActions && tableRowActions.display">\r\n          <gs-table-row-actions\r\n            [rowAction]="tableRowActions"\r\n            [rowData]="row"\r\n            (rowActionEvent)="hdlRowAction($event)">\r\n          </gs-table-row-actions>\r\n        </ng-container>\r\n      </div>\r\n    </ng-container>\r\n\r\n    \x3c!-- footer --\x3e\r\n    <ng-container *ngTemplateOutlet="footer"></ng-container>\r\n  </div>\r\n\r\n  \x3c!-- GTableStyle: SINGLE --\x3e\r\n  <div class="gs-table-single" *ngIf="tableStyle === tableStyleType.SINGLE">\r\n    \x3c!-- content --\x3e\r\n    <div class="gs-table-content" *ngIf="tableContent && tableContentKeys">\r\n      <div class="gs-table-row" *ngFor="let row of tableContent">\r\n        <ng-container *ngFor="let key of tableContentKeys">\r\n          <span class="gs-table-row_text">{{ row[key] }}</span>\r\n        </ng-container>\r\n        <ng-container *ngIf="tableRowActions && tableRowActions.display">\r\n          <gs-table-row-actions\r\n            [rowAction]="tableRowActions"\r\n            [rowData]="row"\r\n            (rowActionEvent)="hdlRowAction($event)">\r\n          </gs-table-row-actions>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!-- footer --\x3e\r\n    <ng-container *ngTemplateOutlet="footer"></ng-container>\r\n  </div>\r\n</ng-container>\r\n\r\n<ng-template #footer>\r\n  <div class="gs-table-footer" *ngIf="currentPage && totalOfPages">\r\n\r\n      \x3c!-- element count --\x3e\r\n      <span class="gs-table-navigation_count">\r\n        {{ currentPage }} - {{ totalOfPages }}\r\n      </span>\r\n\r\n      \x3c!-- navigation controlls --\x3e\r\n      <button\r\n        type="button"\r\n        class="gs-table-navigation-left"\r\n        [class.disabled]="!canNavigatePrevious"\r\n        (click)="onNavigate(true)"\r\n      >\r\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n          <path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/>\r\n        </svg>\r\n      </button>\r\n\r\n      <button\r\n        type="button"\r\n        class="gs-table-navigation-right"\r\n        [class.disabled]="!canNavigateNext"\r\n        (click)="onNavigate(false)"\r\n      >\r\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n          <path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"/>\r\n        </svg>\r\n      </button>\r\n\r\n  </div>\r\n</ng-template>',styles:["*{font-family:Arial,Helvetica,sans-serif;color:var(--gs-font-color,inherit);font-size:var(--gs-font-size,.9rem);outline:0;box-sizing:border-box;line-height:1.4}.disabled{opacity:.7;cursor:default;pointer-events:none}.button{-webkit-transition:.2s ease-in-out;transition:.2s ease-in-out;cursor:pointer;border:none;text-align:center;font-weight:700;outline:0;padding:var(--gs-button-padding,.5rem);color:var(--gs-button-color,#fff);background-color:var(--gs-button-background,#f33959);border:1px solid var(--gs-button-border-color,#f33959);border-radius:var(--gs-button-border-radius,6px)}.button:hover{opacity:.8}:host ::ng-deep .gs-table-row:last-child gs-table-row-actions div.action div.options.dropdown,:host ::ng-deep .gs-table-row:nth-last-child(2) gs-table-row-actions div.action div.options.dropdown,:host ::ng-deep .gs-table-row:nth-last-child(3) gs-table-row-actions div.action div.options.dropdown{top:-70px}.gs-table{border:1px solid var(--gs-border-color,#eee);background-color:var(--gs-white-color,#fff)}.gs-table .gs-table-header span{text-align:left;color:var(--gs-font-color,inherit);fill:var(--gs-font-color,inherit);font-weight:700;font-size:80%;opacity:.6}.gs-table .gs-table-header,.gs-table .gs-table-row{display:grid;grid-template-columns:var(--gs-repeat,repeat(auto-fit,minmax(180px,1fr)))}.gs-table .gs-table-footer,.gs-table .gs-table-header,.gs-table .gs-table-row{height:50px;padding-left:1rem;padding-right:1rem;border-bottom:1px solid var(--gs-border-color,#eee)}.gs-table .gs-table-footer *,.gs-table .gs-table-header *,.gs-table .gs-table-row *{align-self:center}.gs-table .gs-table-footer{border-bottom:none;display:grid;gap:2rem;grid-template-columns:-webkit-max-content auto repeat(2,-webkit-min-content);grid-template-columns:max-content auto repeat(2,min-content)}.gs-table .gs-table-footer span{color:var(--gs-font-color,inherit);fill:var(--gs-font-color,inherit);font-weight:700;font-size:80%;opacity:.6}.gs-table .gs-table-footer .gs-table-navigation-left,.gs-table .gs-table-footer .gs-table-navigation-right,.gs-table .gs-table-footer .gs-table-navigation_count{align-self:center}.gs-table .gs-table-footer .gs-table-navigation_count{grid-column:1}.gs-table .gs-table-footer .gs-table-navigation-left{grid-column:3}.gs-table .gs-table-footer .gs-table-navigation-right{grid-column:4}.gs-table .gs-table-footer .gs-table-navigation-left,.gs-table .gs-table-footer .gs-table-navigation-right{outline:0;background:0 0;padding:0;margin:0;border:none;cursor:pointer}.gs-table .gs-table-footer .gs-table-navigation-left svg,.gs-table .gs-table-footer .gs-table-navigation-right svg{width:12px}"]}),(r=2,a=e.Inject("customStyles"),function(t,e){a(t,e,r)})],n)}(),g=function(){function t(){this.rowActionEvent=new e.EventEmitter}return t.prototype.clickout=function(t){this.optionsButton.nativeElement.contains(t.target)?this.onToggleShowActions():this.showActions&&!this.optionsContainer.nativeElement.contains(t.target)&&(this.showActions=!1)},t.prototype.hdlAction=function(t){this.showActions=!1,t.row=this.rowData,this.rowActionEvent.emit(t)},t.prototype.onToggleShowActions=function(){this.showActions=!this.showActions},i([e.ViewChild("optionsContainer",{static:!1})],t.prototype,"optionsContainer",void 0),i([e.ViewChild("optionsButton",{static:!0})],t.prototype,"optionsButton",void 0),i([e.Input()],t.prototype,"rowAction",void 0),i([e.Input()],t.prototype,"rowData",void 0),i([e.Output()],t.prototype,"rowActionEvent",void 0),i([e.HostListener("document:click",["$event"])],t.prototype,"clickout",null),t=i([e.Component({selector:"gs-table-row-actions",template:'<div class="action">\r\n  <button class="button button-secondary" #optionsButton>\r\n    {{ rowAction.text }}\r\n    <svg *ngIf="!showActions" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n      <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"/>\r\n    </svg>\r\n    <svg *ngIf="showActions" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n      <path d="M0 16.67l2.829 2.83 9.175-9.339 9.167 9.339 2.829-2.83-11.996-12.17z"/>\r\n    </svg>\r\n  </button>\r\n  <ng-container *ngIf="showActions">\r\n    <div class="options dropdown" #optionsContainer>\r\n      <ng-container *ngFor="let action of rowAction.actions">\r\n        <span (click)="hdlAction(action)" *ngIf="action.display">\r\n          {{ action.text }}\r\n        </span>\r\n      </ng-container>\r\n    </div>\r\n  </ng-container>\r\n</div>',styles:["*{font-family:Arial,Helvetica,sans-serif;color:var(--gs-font-color,inherit);font-size:var(--gs-font-size,.9rem);outline:0;box-sizing:border-box;line-height:1.4}.disabled{opacity:.7;cursor:default;pointer-events:none}.button{-webkit-transition:.2s ease-in-out;transition:.2s ease-in-out;cursor:pointer;border:none;text-align:center;outline:0;padding:var(--gs-button-padding,.5rem);color:var(--gs-button-color,#fff);background-color:var(--gs-button-background,#f33959);border:1px solid var(--gs-button-border-color,#f33959);border-radius:var(--gs-button-border-radius,6px);display:inherit;font-size:70%;font-weight:700;padding:var(--gs-button-padding,.5rem);margin:7px auto}.button:hover{opacity:.8}:host ::ng-deep .gs-table-row:last-child gs-table-row-actions div.action div.options.dropdown,:host ::ng-deep .gs-table-row:nth-last-child(2) gs-table-row-actions div.action div.options.dropdown,:host ::ng-deep .gs-table-row:nth-last-child(3) gs-table-row-actions div.action div.options.dropdown{top:-70px}.button svg{fill:var(--gs-font-color,inherit);width:8px;height:8px;margin-left:3px}.action{position:relative}.options{position:absolute;font-size:80%;z-index:1000;padding:4px;background:var(--gs-white-color,#fff);box-shadow:0 8px 14px rgba(0,0,0,.08),0 10px 10px rgba(0,0,0,.1);border-radius:6px;width:-webkit-max-content;width:-moz-max-content;width:max-content;line-height:1}.options span{-webkit-transition:.2s ease-in-out;transition:.2s ease-in-out;display:inline-block;width:160px;padding:6px;line-height:1;cursor:pointer;color:var(--gs-font-color,inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.options span:hover{opacity:.8}.options.dropdown{width:100px;top:28px;right:calc(40% - 10px)}.options.dropdown span{width:100%}"]})],t)}(),u=function(){function t(){}var o;return o=t,t.forRoot=function(t){return{ngModule:o,providers:[{provide:"customStyles",useValue:t}]}},t=o=i([e.NgModule({declarations:[c,g],imports:[n.CommonModule,r.TranslateModule,a.HttpClientModule],exports:[c]})],t)}();t.GsTablesComponent=c,t.GsTablesModule=u,t.GsTablesService=l,t.ɵa=g,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=gs-tables.umd.min.js.map